(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(t,e,r){t.exports={Current:"Weather_Current__3bpLd",division:"Weather_division__10rJZ",CurrentBottom:"Weather_CurrentBottom__3UXuD",Weather:"Weather_Weather__aOLMh",loading:"Weather_loading__1ChZS"}},11:function(t,e,r){t.exports={Country:"country_Country__2tP0E",Country__name:"country_Country__name__2GYrt",Country__form:"country_Country__form__GFvp4",slide:"country_slide__3znjt"}},12:function(t,e,r){t.exports={City:"city_City__1vNVe",City__form:"city_City__form__1bxYG",City__form__input:"city_City__form__input__3ygLL"}},16:function(t,e,r){t.exports={Current:"Current_Current__2czYQ",division:"Current_division__3V6nh",CurrentBottom:"Current_CurrentBottom__kUXio"}},17:function(t,e,r){t.exports={WeatherBottom:"WeatherBottom_WeatherBottom__2_3i2",division:"WeatherBottom_division__1IgkF"}},35:function(t,e,r){},36:function(t,e,r){},39:function(t,e){function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=Math.round(t*Math.pow(10,e))/Math.pow(10,e);return r}t.exports={toCelsius:function(t){var e=t-273.15;return e=r(e)},toFahrenheit:function(t){var e=9*(t-273.15)/5+32;return e=r(e)},windDirect:function(t){return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW","N"][parseInt((t+11.25)/22.5)+1]}}},4:function(t,e,r){t.exports={OtherCity:"otherCities_OtherCity__3aLa9",OtherCity__title:"otherCities_OtherCity__title__2oVji",OtherCityButton:"otherCities_OtherCityButton__2voyZ",OtherCityButton__city:"otherCities_OtherCityButton__city__2FxMs",OtherCityButton__temperature:"otherCities_OtherCityButton__temperature__2kzmh",OtherCityButton__icon:"otherCities_OtherCityButton__icon__8lL1F"}},6:function(t,e,r){t.exports={ForecastWeather:"ForecastWeather_ForecastWeather__1Gw_o",ForecastWeather__title:"ForecastWeather_ForecastWeather__title__3e5jN",ForecastList:"ForecastWeather_ForecastList__1Z49n",ForecastList__Item:"ForecastWeather_ForecastList__Item__3MzFk",ForecastList__Item__day:"ForecastWeather_ForecastList__Item__day__1ImNJ",ForecastList__Item__icon:"ForecastWeather_ForecastList__Item__icon__1459z",ForecastList__Item__temperature:"ForecastWeather_ForecastList__Item__temperature__3ZxLF"}},61:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r(1),i=r.n(a),c=r(26),o=r.n(c),s=(r(35),r(36),r(5)),u=r.n(s),_=r(8),d=r(3),h=r(10),l=r.n(h),j=r(15),f=r(11),m=r.n(f),p="country or code",v=function(t){var e=Object(a.useState)(!0),r=Object(d.a)(e,2),i=r[0],c=r[1],o=Object(a.useState)(p),s=Object(d.a)(o,2),u=s[0],_=s[1],h=function(){c(!i),_(p)},l=function(e){e.preventDefault(),t.onCountryChange(u),h()};return Object(n.jsxs)("div",{className:m.a.Country,children:[Object(n.jsx)("div",{className:m.a.Country__name,onClick:h,children:t.country}),i?"":Object(n.jsx)("form",{className:m.a.Country__form,onSubmit:l,children:Object(n.jsx)("input",{value:u,onChange:function(t){_(t.target.value)},onBlur:function(t){return""===u?h():l(t)},onFocus:function(){u===p&&_("")}})})]})},y=r(9),C=r(39),O=function t(e){Object(y.a)(this,t),this.temperature=C.toCelsius(e.main.temp),this.humidity=e.main.humidity,this.wind=e.wind.speed,this.weather=e.weather[0].main,this.icon=e.weather[0].icon,this.description=e.weather[0].description},b=function t(e,r){Object(y.a)(this,t),this.day=r,this.temperature=Math.round(e.temperature),this.icon=e.icon,this.description=e.description},x=r(40),N="".concat("38005f91a8e6a3ddb61bdc5df3090b2c"),w=x.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appid:N}});function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"current",r="forecast"===e?"/forecast":"/weather",n=w.get(r,{params:{q:t}});return n}function g(){return(g=Object(_.a)(u.a.mark((function t(e,r){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(r,", ").concat(e),t.abrupt("return",Promise.all([I(n),I(n,"forecast")]).then((function(t){var e=t[0],r=t[1];return{cityName:r.data.city.name,countryCode:r.data.city.country,current:new O(e.data),forecast:W(F(r.data.list.map((function(t){return new O(t)}))))}})).catch((function(t){console.log(t.message)})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(t){var e=[];return t.reduce((function(t,r,n){return n%8===0?e.push(r):e}),0),e}function W(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,r=["MON","TUE","WED","THU","FRI","SAT","SUN"],n=new Date,a=n.getDay()-1,i=[],c=0;c<e;c++)a=a===r.length-1?0:a+1,i.push(new b(t[c],r[a]));return i}var k=function(t,e){return g.apply(this,arguments)},B=r(12),L=r.n(B),S="Which city?",A=function(t){var e=t.cityName,r=t.country,i=t.checkCityInput,c=t.setLoading,o=t.updateDataArray,s=Object(a.useState)(S),h=Object(d.a)(s,2),l=h[0],j=h[1],f=function(){var t=Object(_.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.next=3,k(r,e);case 3:if(void 0!==(n=t.sent)){t.next=7;break}return c(!1),t.abrupt("return",alert("country or city can not found"));case 7:o(n),c(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:L.a.City,children:[Object(n.jsx)("h1",{children:e}),Object(n.jsx)("form",{className:L.a.City__form,onSubmit:function(t){t.preventDefault(),i(l,r)&&f(l),j(S)},children:Object(n.jsx)("input",{className:L.a.City__form__input,value:l,onChange:function(t){j(t.target.value)},onFocus:function(){l===S&&j("")},onBlur:function(){return""===l&&j(S)}})})]})},D=r(7),E=r.n(D);var M=function(t){return Object(n.jsxs)("div",{className:E.a.CurrentInfo,children:[Object(n.jsx)("div",{className:E.a.CurrentInfo__temperature,children:Object(n.jsxs)("span",{children:[t.temperature," \xb0"]})}),Object(n.jsx)("div",{className:E.a.CurrentInfo__weather,children:Object(n.jsx)("span",{children:t.weather})}),Object(n.jsxs)("div",{className:E.a.CurrentInfo__details,children:[Object(n.jsxs)("div",{className:E.a.CurrentInfo__details__item,children:[Object(n.jsx)("span",{children:"HUMIDITY"}),Object(n.jsx)("br",{}),Object(n.jsxs)("span",{children:[t.humidity,"%"]})]}),Object(n.jsx)("div",{className:E.a.division}),Object(n.jsxs)("div",{className:E.a.CurrentInfo__details__item,children:[Object(n.jsx)("span",{children:"WIND"}),Object(n.jsx)("br",{}),Object(n.jsxs)("span",{children:[t.wind," K/M"]})]})]})]})},U=r(16),T=r.n(U),Z=function(t){var e=t.currentData,r=t.setLoading,i=t.checkCityInput,c=t.updateDataArray,o=null===e||void 0===e?void 0:e.countryCode,s=Object(a.useState)(o),u=Object(d.a)(s,2),_=u[0],h=u[1];Object(a.useEffect)((function(){h(o)}),[o]);var l=e.cityName,f=e.current,m=f.temperature,p=f.humidity,y=f.wind,C=f.weather;return Object(n.jsxs)("div",{className:T.a.Current,children:[Object(n.jsx)(v,{country:_,onCountryChange:function(t){var e=function(t){var e=Object(j.getCode)(t)||Object(j.getName)(t);return!!e&&(e.length>2?t:e)}(t);return e&&h(e.toUpperCase())}}),Object(n.jsx)(M,{temperature:m,humidity:p,wind:y,weather:C}),Object(n.jsx)(A,{cityName:l,country:_,checkCityInput:i,setLoading:r,updateDataArray:c}),Object(n.jsx)("div",{className:T.a.CurrentBottom})]})},z=r(4),H=r.n(z),G=r(27),J=r(29),P=r(28),R=function(t){Object(J.a)(r,t);var e=Object(P.a)(r);function r(){var t;Object(y.a)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).handleClick=function(e){t.props.onOtherCitiesClick(t.props.index)},t}return Object(G.a)(r,[{key:"render",value:function(){var t=this.props,e=t.city,r=t.temperature,a=t.icon,i=t.description;return Object(n.jsxs)("button",{className:H.a.OtherCityButton,onClick:this.handleClick,children:[Object(n.jsx)("h3",{className:H.a.OtherCityButton__city,children:e}),Object(n.jsxs)("div",{className:H.a.OtherCityButton__temperature,children:[Math.round(r)," \xb0"]}),Object(n.jsx)("div",{className:H.a.OtherCityButton__icon,children:Object(n.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(a,".png"),alt:i})})]})}}]),r}(a.Component);var V=function(t){var e=t.cityArray,r=t.onOtherCitiesClick,a=null===e||void 0===e?void 0:e.map((function(t,e){var a,i,c;return Object(n.jsx)(R,{city:null===t||void 0===t?void 0:t.cityName,temperature:null===t||void 0===t||null===(a=t.current)||void 0===a?void 0:a.temperature,icon:null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.icon,description:null===t||void 0===t||null===(c=t.current)||void 0===c?void 0:c.description,onOtherCitiesClick:r,index:e},"".concat(t.countryCode).concat(t.cityName))}));return Object(n.jsx)("div",{className:H.a.OtherCityButtons,children:a})};var Y=function(t){var e=t.cityArray,r=t.onOtherCitiesClick;return Object(n.jsxs)("div",{className:H.a.OtherCity,children:[Object(n.jsx)("h2",{className:H.a.OtherCity__title,children:"Other Cities"}),Object(n.jsx)(V,{cityArray:e,onOtherCitiesClick:r})]})},q=r(6),Q=r.n(q),X=function(t){var e="http://openweathermap.org/img/wn/".concat(t.info.icon,"@2x.png");return Object(n.jsxs)("div",{className:Q.a.ForecastList__Item,children:[Object(n.jsx)("h3",{className:Q.a.ForecastList__Item__day,children:t.info.day}),Object(n.jsx)("img",{className:Q.a.ForecastList__Item__icon,src:e,alt:t.info.icon}),Object(n.jsxs)("div",{className:Q.a.ForecastList__Item__temperature,children:[t.info.temperature," \xb0"]})]})};var K=function(t){var e=t.forecastArray,r=null===e||void 0===e?void 0:e.map((function(t){return Object(n.jsx)(X,{info:t},t.day)}));return Object(n.jsxs)("div",{className:Q.a.ForecastWeather,children:[Object(n.jsx)("h2",{className:Q.a.ForecastWeather__title,children:"Forecast"}),Object(n.jsx)("div",{className:Q.a.ForecastList,children:r})]})},$=r(17),tt=r.n($);var et=function(t){var e,r=t.dataArray,a=t.onOtherCitiesClick,i=null===r||void 0===r?void 0:r.slice(1),c=null===(e=r[0])||void 0===e?void 0:e.forecast;return Object(n.jsxs)("div",{className:tt.a.WeatherBottom,children:[Object(n.jsx)(Y,{cityArray:i,onOtherCitiesClick:a}),Object(n.jsx)("div",{className:tt.a.division}),Object(n.jsx)(K,{forecastArray:c})]})},rt=function(){var t=Object(a.useState)(!0),e=Object(d.a)(t,2),r=e[0],i=e[1],c=Object(a.useReducer)((function(t,e){var r,n=null===t||void 0===t?void 0:t.map((function(t){return t}));switch(e.type){case"New_Array":return e.array;case"New_DATA":r=e.data,n.pop();break;case"SWITCH":r=n.splice(e.index,1)[0];break;default:throw new Error}return n.unshift(r),n}),[]),o=Object(d.a)(c,2),s=o[0],h=o[1];var j=function(){var t=Object(_.a)(u.a.mark((function t(){var e,r,n,a,c,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=["Brisbane","Sydney","Melbourne","Perth"],r="AU",n=[],a=0;case 4:if(!(a<e.length)){t.next=13;break}return c=e[a],t.next=8,k(r,c);case 8:o=t.sent,n.push(o);case 10:a++,t.next=4;break;case 13:h({type:"New_Array",array:n}),i(!1);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){j()}),[]);var f=function(t){h({type:"SWITCH",index:t+1})},m=function(t,e){var r=s.findIndex((function(r){var n;return(null===r||void 0===r||null===(n=r.cityName)||void 0===n?void 0:n.toUpperCase())===(null===t||void 0===t?void 0:t.toUpperCase())&&(null===r||void 0===r?void 0:r.countryCode)===e}));return r>0?(f(r-1),!1):0!==r},p=s[0];return Object(n.jsx)("div",{className:l.a.Weather,children:r?Object(n.jsx)("div",{className:l.a.Current,style:{borderRadius:"32px"},children:Object(n.jsx)("div",{className:l.a.loading,children:"Loading..."})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Z,{currentData:p,setLoading:i,checkCityInput:function(){return m},updateDataArray:function(t){h({type:"New_DATA",data:t})}}),Object(n.jsx)(et,{dataArray:s,onOtherCitiesClick:f})]})})};r(58).config();var nt=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(rt,{})})};o.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(nt,{})}),document.getElementById("root"))},7:function(t,e,r){t.exports={Current:"info_Current__2v7ow",division:"info_division__1CsH3",CurrentBottom:"info_CurrentBottom__3UMN2",CurrentInfo:"info_CurrentInfo__3FCf4",CurrentInfo__temperature:"info_CurrentInfo__temperature__3th9V",CurrentInfo__weather:"info_CurrentInfo__weather__1PuTB",CurrentInfo__details:"info_CurrentInfo__details__29bqa",CurrentInfo__details__item:"info_CurrentInfo__details__item__2QZaI"}}},[[61,1,2]]]);
//# sourceMappingURL=main.8c8fa6ea.chunk.js.map